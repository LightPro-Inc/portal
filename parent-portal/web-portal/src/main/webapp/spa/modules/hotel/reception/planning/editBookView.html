<form role="form" class="form-horizontal" novalidate angular-validator name="addForm" angular-validator-submit="vm.save()">
	<div class="row">
		<div class="panel panel-primary">
			<div class="panel-heading clearfix">
				<h4 class="panel-title">Réservation - chambre {{vm.item.room}} ({{vm.item.start|date:'dd/MM/yyyy'}} - {{vm.item.end|date:'dd/MM/yyyy'}})</h4>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading clearfix">
							    <div class="panel-title pull-left" style="padding-top: 7.5px;">
									<strong>Status</strong>
									<span class="badge badge-sm up" style="background-color:{{vm.item.statusColor}};">{{vm.item.status}}</span>
								</div>								
							</div>
							<div class="panel-body">
								<div class="row">
									<div class="col-md-3 col-xs-12 col-sm-6" ng-repeat="status in vm.bookingStatus">
										<button type="button" class="btn btn-primary btn-sm col-md-12 col-xs-12 col-sm-12" ng-click="status.action()" ng-disabled="!status.active">{{status.value}}</button>
									</div>
								</div>													
							</div>
						</div>																						
					</div>
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading clearfix">
							    <div class="panel-title pull-left" style="padding-top: 7.5px;">
									<strong>Client : {{vm.item.customer}}</strong>									
								</div>		
								<div class="pull-right">
									<button type="button" class="btn btn-primary btn-sm" ng-click="vm.modifyCustomer()" ng-disabled="!vm.item.customerId">Editer</button>
									<button type="button" class="btn btn-primary btn-sm" ng-click="vm.searchCustomer()">Rechercher</button>
								</div>						
							</div>
							<div class="panel-body">
								<div class="row">
									<div class="col-md-12">
										<div class="pull-left">
											<label class="control-label">Commande N° {{vm.item.order}}</label>
										</div>
										<div class="pull-right">
											<button disabled type="button" class="btn btn-primary btn-sm" ng-click="vm.linkToOrder()">Associer à une autre commande</button>
											<button type="button" class="btn btn-primary btn-sm" ng-click="vm.invoice()" ng-disabled="vm.item.statusId == 3">Facturer</button>
										</div>
									</div>
								</div>													
							</div>
						</div>																						
					</div>
					<div class="col-md-6">
						<div class="panel panel-default form-horizontal">
							<div class="panel-heading clearfix">
								<div class="panel-title pull-left" style="padding-top: 7.5px;">
									<strong>Identification de l'hôte</strong>
								</div>
							</div>
							<div class="panel-body">
								<div ng-show="vm.loadingBooking">
					               <div class="col-xs-4"></div>
					               <div class="col-xs-4">
					                   <i class="fa fa-refresh fa-5x fa-spin"></i> <label class="label label-primary">Loading data...</label>
					               </div>
					               <div class="col-xs-4"></div>
					           </div>
					           <div ng-show="!vm.loadingBooking">
					           		 <div class="form-group">
										<label class="col-md-3 control-label" for="hote">Hôte</label>
										<div class="col-md-9">
											<div class="input-group">
								                <input type="text" class="form-control input-sm" id="guest" name="guest" ng-model="vm.item.guest" placeholder="Sélectionner une personne" disabled />
		                                        <div class="input-group-btn">
		                                        	<button ng-if="vm.item.guestId" type="button" class="btn btn-primary btn-sm" ng-click="vm.modifyGuest()"><i class="fa fa-edit"></i></button>
		                                            <button type="button" class="btn btn-primary btn-sm" ng-click="vm.searchGuest()"><i class="glyphicon glyphicon-search"></i></button>
		                                        </div>
		                                    </div>  
										</div>
									</div>
					           	   <div class="form-group">
										<label class="col-md-3 control-label" for="nature">Nature pièce</label>
										<div class="col-md-9">
											<input type="text" class="form-control input-sm" id="nature" name="nature" ng-model="vm.item.naturePiece" placeholder="Renseigner la nature">
										</div>
									</div>	
									<div class="form-group">
										<label class="col-md-3 control-label" for="numeroPiece">N°</label>
										<div class="col-md-9">
											<input type="text" class="form-control input-sm" id="numeroPiece" name="numeroPiece" ng-model="vm.item.numeroPiece" placeholder="Renseigner le numéro">
										</div>
									</div>	
									<div class="form-group">
										<label class="col-md-3 control-label" for="deliveredDatePiece">Délivrée le</label>
										<div class="col-md-9">
											<div class="input-group">
		                                        <input type="text" class="form-control input-sm" id="deliveredDatePiece" name="deliveredDatePiece" uib-datepicker-popup="{{vm.datepicker.format}}" ng-model="vm.item.deliveredDatePiece" is-open="vm.datepickerDeliveredBy.opened" datepicker-options="vm.dateOptions" placeholder="yyyy-MM-dd" />
		                                        <span class="input-group-btn">
		                                            <button type="button" class="btn btn-default" ng-click="vm.openDatePickerDeliveredBy($event, prop)"><i class="glyphicon glyphicon-calendar"></i></button>
		                                        </span>
		                                    </div>
										</div>
									</div>	
									<div class="form-group">
										<label class="control-label col-md-3" for="editionPlacePiece">A </label>
										<div class="col-md-9">
											<input type="text" class="form-control input-sm" ng-model="vm.item.editionPlacePiece" name="editionPlacePiece" id="editionPlacePiece" placeholder="Renseigner le lieu d'édition">
										</div>
									</div>	
									<div class="form-group">
										<label class="control-label col-md-3" for="editedByPiece">Par </label>
										<div class="col-md-9">
											<input type="text" class="form-control input-sm" ng-model="vm.item.editedByPiece" name="editedByPiece" id="editedByPiece" placeholder="Renseigner l'agent éditeur">
										</div>
									</div>								
					           </div>																				
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="panel panel-default form-horizontal">
							<div class="panel-heading clearfix">
								<div class="panel-title pull-left" style="padding-top: 7.5px;">
									<strong>Informations supplémentaires</strong>
								</div>
							</div>
							<div class="panel-body">
								<div ng-show="vm.loadingBooking">
					               <div class="col-xs-4"></div>
					               <div class="col-xs-4">
					                   <i class="fa fa-refresh fa-5x fa-spin"></i> <label class="label label-primary">Loading data...</label>
					               </div>
					               <div class="col-xs-4"></div>
					           </div>
					           <div ng-show="!vm.loadingBooking">
					           	   <div class="form-group">
										<label class="col-md-4 control-label" for="numberOfChildren">Nombre d'enfants </label>
										<div class="col-md-8">
											<input type="number" class="form-control input-sm" id="numberOfChildren" name="numberOfChildren" ng-model="vm.item.numberOfChildren" placeholder="Renseigner le nombre d'enfants">
										</div>
									</div>	
									<div class="form-group">
										<label class="col-md-4 control-label" for="numberOfAdults">Nombre d'adultes </label>
										<div class="col-md-8">
											<input type="number" class="form-control input-sm" id="numberOfAdults" name="numberOfAdults" ng-model="vm.item.numberOfAdults" placeholder="Renseigner le nombre d'adultes">
										</div>
									</div>		
									<div class="form-group">
										<label class="control-label col-md-4" for="exactDestination">Destination exacte </label>
										<div class="col-md-8">
											<input type="text" class="form-control input-sm" ng-model="vm.item.exactDestination" name="exactDestination" id="exactDestination" placeholder="Renseigner une destination">
										</div>
									</div>									
					           </div>																				
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="panel-footer clearfix">
				<div class="pull-right">
				<button type="submit" class="btn btn-primary" ng-click="vm.canClose = false;">Enregistrer</button>
				<button type="submit" class="btn btn-primary" ng-click="vm.canClose = true;">Enregistrer et fermer</button>					
					<button type="button" class="btn btn-default" ng-click="vm.goPreviousPage()">Annuler</button>			
				</div>			
			</div>
		</div>
	</div>
</form>	